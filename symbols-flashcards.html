<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Symbols">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect fill='%238e44ad' width='100' height='100' rx='20'/><text x='50' y='65' font-size='50' text-anchor='middle' fill='white'>‚àë</text></svg>">
    <link rel="manifest" href="symbols-manifest.json">
    <title>Math Symbols Flashcards</title>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: white;
            overflow-x: hidden;
        }

        .app-container {
            max-width: 500px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        .header {
            text-align: center;
            padding: 15px 0;
        }

        .header h1 {
            font-size: 1.5rem;
            background: linear-gradient(135deg, #8e44ad, #9b59b6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .progress-bar {
            background: rgba(255,255,255,0.1);
            height: 6px;
            border-radius: 3px;
            margin-top: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #8e44ad, #9b59b6);
            transition: width 0.3s ease;
            border-radius: 3px;
        }

        .progress-text {
            font-size: 0.85rem;
            color: rgba(255,255,255,0.6);
            margin-top: 5px;
        }

        /* Category Filter */
        .category-filter {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
            margin: 15px 0;
        }

        .category-btn {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            color: rgba(255,255,255,0.8);
            padding: 8px 14px;
            border-radius: 20px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .category-btn:hover, .category-btn.active {
            background: linear-gradient(135deg, #8e44ad, #9b59b6);
            border-color: transparent;
            color: white;
        }

        /* Card Container */
        .card-container {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px 0;
            position: relative;
        }

        /* Flashcard */
        .flashcard {
            width: 100%;
            max-width: 350px;
            min-height: 300px;
            background: linear-gradient(145deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
            border-radius: 20px;
            border: 1px solid rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            padding: 30px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }

        .flashcard:active {
            transform: scale(0.98);
        }

        .flashcard.flipped {
            background: linear-gradient(145deg, rgba(142,68,173,0.3), rgba(155,89,182,0.2));
        }

        /* Card Content */
        .card-front, .card-back {
            width: 100%;
        }

        .card-back {
            display: none;
        }

        .flashcard.flipped .card-front {
            display: none;
        }

        .flashcard.flipped .card-back {
            display: block;
        }

        .symbol-display {
            font-size: 4rem;
            color: #9b59b6;
            margin-bottom: 20px;
        }

        .symbol-name {
            font-size: 1.3rem;
            font-weight: 600;
            color: rgba(255,255,255,0.9);
            margin-bottom: 10px;
        }

        .tap-hint {
            font-size: 0.8rem;
            color: rgba(255,255,255,0.4);
            margin-top: 20px;
        }

        .meaning {
            font-size: 1.1rem;
            color: rgba(255,255,255,0.85);
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .example-box {
            background: rgba(0,0,0,0.2);
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
        }

        .example-label {
            font-size: 0.75rem;
            color: rgba(255,255,255,0.5);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 8px;
        }

        .example {
            font-size: 1rem;
            color: #bb8fce;
        }

        .category-tag {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(142,68,173,0.3);
            padding: 4px 10px;
            border-radius: 10px;
            font-size: 0.7rem;
            color: rgba(255,255,255,0.7);
            text-transform: uppercase;
        }

        /* Navigation */
        .nav-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            padding: 20px 0;
        }

        .nav-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            font-size: 1.5rem;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .nav-btn.prev, .nav-btn.next {
            background: rgba(255,255,255,0.1);
            color: white;
        }

        .nav-btn.prev:hover, .nav-btn.next:hover {
            background: rgba(255,255,255,0.2);
            transform: scale(1.1);
        }

        .nav-btn.shuffle {
            background: linear-gradient(135deg, #8e44ad, #9b59b6);
            color: white;
        }

        .nav-btn.shuffle:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 20px rgba(142,68,173,0.4);
        }

        .nav-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
            transform: none !important;
        }

        /* Stats Bar */
        .stats-bar {
            display: flex;
            justify-content: center;
            gap: 30px;
            padding: 15px 0;
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        .stat {
            text-align: center;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #9b59b6;
        }

        .stat-label {
            font-size: 0.7rem;
            color: rgba(255,255,255,0.5);
            text-transform: uppercase;
        }

        /* Swipe hint */
        .swipe-hint {
            text-align: center;
            font-size: 0.8rem;
            color: rgba(255,255,255,0.4);
            padding: 10px;
        }

        /* Empty state */
        .empty-state {
            text-align: center;
            padding: 50px 20px;
            color: rgba(255,255,255,0.6);
        }

        .empty-state h3 {
            margin-bottom: 10px;
        }

        /* MathJax overrides */
        mjx-container {
            color: inherit !important;
        }

        @media (max-width: 400px) {
            .app-container {
                padding: 15px;
            }
            .flashcard {
                padding: 20px;
                min-height: 280px;
            }
            .symbol-display {
                font-size: 3rem;
            }
        }
    </style>
</head>
<body>

<div class="app-container">
    <header class="header">
        <h1>Math Symbols Flashcards</h1>
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>
        <div class="progress-text" id="progressText">Card 1 of 80</div>
    </header>

    <div class="category-filter" id="categoryFilter">
        <button class="category-btn active" data-category="all">All</button>
        <button class="category-btn" data-category="sets">Sets</button>
        <button class="category-btn" data-category="logic">Logic</button>
        <button class="category-btn" data-category="relations">Relations</button>
        <button class="category-btn" data-category="functions">Functions</button>
        <button class="category-btn" data-category="numbers">Numbers</button>
        <button class="category-btn" data-category="operations">Operations</button>
        <button class="category-btn" data-category="proofs">Proofs</button>
        <button class="category-btn" data-category="greek">Greek</button>
    </div>

    <div class="card-container" id="cardContainer">
        <div class="flashcard" id="flashcard" onclick="flipCard()">
            <span class="category-tag" id="categoryTag">SETS</span>
            <div class="card-front">
                <div class="symbol-display" id="symbolDisplay">\(\in\)</div>
                <div class="symbol-name" id="symbolName">Element of</div>
                <div class="tap-hint">Tap to reveal meaning</div>
            </div>
            <div class="card-back">
                <div class="symbol-display" id="symbolDisplayBack">\(\in\)</div>
                <div class="meaning" id="meaningDisplay">x ‚àà A means "x is an element of set A"</div>
                <div class="example-box">
                    <div class="example-label">Example</div>
                    <div class="example" id="exampleDisplay">\(3 \in \{1,2,3\}\)</div>
                </div>
            </div>
        </div>
    </div>

    <div class="nav-buttons">
        <button class="nav-btn prev" id="prevBtn" onclick="prevCard()">‚Üê</button>
        <button class="nav-btn shuffle" onclick="shuffleCards()">üîÄ</button>
        <button class="nav-btn next" id="nextBtn" onclick="nextCard()">‚Üí</button>
    </div>

    <div class="swipe-hint">Swipe left/right or use arrows</div>

    <div class="stats-bar">
        <div class="stat">
            <div class="stat-value" id="viewedCount">0</div>
            <div class="stat-label">Viewed</div>
        </div>
        <div class="stat">
            <div class="stat-value" id="totalCount">80</div>
            <div class="stat-label">Total</div>
        </div>
        <div class="stat">
            <div class="stat-value" id="categoryCount">8</div>
            <div class="stat-label">Categories</div>
        </div>
    </div>
</div>

<script>
const flashcards = [
    // SETS (14 cards)
    { category: "sets", symbol: "\\in", name: "Element of", meaning: "x ‚àà A means \"x is an element of set A\"", example: "3 \\in \\{1,2,3\\}" },
    { category: "sets", symbol: "\\notin", name: "Not element of", meaning: "x ‚àâ A means \"x is not in set A\"", example: "4 \\notin \\{1,2,3\\}" },
    { category: "sets", symbol: "\\subseteq", name: "Subset", meaning: "A ‚äÜ B means \"every element of A is in B\"", example: "\\{1,2\\} \\subseteq \\{1,2,3\\}" },
    { category: "sets", symbol: "\\subset", name: "Proper subset", meaning: "A ‚äÇ B means \"A ‚äÜ B and A ‚â† B\"", example: "\\{1,2\\} \\subset \\{1,2,3\\}" },
    { category: "sets", symbol: "\\supseteq", name: "Superset", meaning: "A ‚äá B means \"B is a subset of A\"", example: "\\{1,2,3\\} \\supseteq \\{1,2\\}" },
    { category: "sets", symbol: "\\cup", name: "Union", meaning: "A ‚à™ B = elements in A OR B (or both)", example: "\\{1,2\\} \\cup \\{2,3\\} = \\{1,2,3\\}" },
    { category: "sets", symbol: "\\cap", name: "Intersection", meaning: "A ‚à© B = elements in BOTH A AND B", example: "\\{1,2\\} \\cap \\{2,3\\} = \\{2\\}" },
    { category: "sets", symbol: "\\setminus", name: "Set difference", meaning: "A \\ B = elements in A but NOT in B", example: "\\{1,2,3\\} \\setminus \\{2\\} = \\{1,3\\}" },
    { category: "sets", symbol: "\\emptyset", name: "Empty set", meaning: "The set with no elements", example: "\\{x : x \\neq x\\} = \\emptyset" },
    { category: "sets", symbol: "\\mathcal{P}(A)", name: "Power set", meaning: "Set of all subsets of A", example: "\\mathcal{P}(\\{1,2\\}) = \\{\\emptyset, \\{1\\}, \\{2\\}, \\{1,2\\}\\}" },
    { category: "sets", symbol: "|A|", name: "Cardinality", meaning: "Number of elements in A", example: "|\\{a,b,c\\}| = 3" },
    { category: "sets", symbol: "A \\times B", name: "Cartesian product", meaning: "Set of all ordered pairs (a,b)", example: "\\{1,2\\} \\times \\{a,b\\} = \\{(1,a),(1,b),(2,a),(2,b)\\}" },
    { category: "sets", symbol: "\\bigcup", name: "Big union", meaning: "Union of many sets", example: "\\bigcup_{i=1}^{3} A_i = A_1 \\cup A_2 \\cup A_3" },
    { category: "sets", symbol: "\\bigcap", name: "Big intersection", meaning: "Intersection of many sets", example: "\\bigcap_{i=1}^{3} A_i = A_1 \\cap A_2 \\cap A_3" },

    // LOGIC (13 cards)
    { category: "logic", symbol: "\\forall", name: "For all (Universal)", meaning: "\"For every\" or \"for all\"", example: "\\forall x \\in \\mathbb{R}, x^2 \\geq 0" },
    { category: "logic", symbol: "\\exists", name: "There exists", meaning: "\"There exists at least one\"", example: "\\exists x \\in \\mathbb{R}: x^2 = 2" },
    { category: "logic", symbol: "\\exists!", name: "Unique existence", meaning: "\"There exists exactly one\"", example: "\\exists! x \\in \\mathbb{R}: x + 3 = 5" },
    { category: "logic", symbol: "\\nexists", name: "Does not exist", meaning: "\"There does not exist\"", example: "\\nexists x \\in \\mathbb{R}: x^2 < 0" },
    { category: "logic", symbol: "\\Rightarrow", name: "Implies", meaning: "P ‚áí Q: \"if P, then Q\"", example: "x > 2 \\Rightarrow x > 0" },
    { category: "logic", symbol: "\\Leftarrow", name: "Is implied by", meaning: "P ‚áê Q: \"P if Q\"", example: "x > 0 \\Leftarrow x > 2" },
    { category: "logic", symbol: "\\Leftrightarrow", name: "If and only if (iff)", meaning: "P is true exactly when Q is true", example: "x^2 = 4 \\iff x = \\pm 2" },
    { category: "logic", symbol: "\\neg", name: "Not (Negation)", meaning: "Opposite of the statement", example: "\\neg(x > 0) \\text{ means } x \\leq 0" },
    { category: "logic", symbol: "\\land", name: "And (Conjunction)", meaning: "Both statements are true", example: "x > 0 \\land x < 5" },
    { category: "logic", symbol: "\\lor", name: "Or (Disjunction)", meaning: "At least one statement is true", example: "x < 0 \\lor x > 0" },
    { category: "logic", symbol: "\\therefore", name: "Therefore", meaning: "Conclusion follows", example: "x = 2, \\therefore x^2 = 4" },
    { category: "logic", symbol: "\\because", name: "Because", meaning: "Reason for conclusion", example: "x^2 = 4 \\because x = 2" },
    { category: "logic", symbol: ":", name: "Such that", meaning: "Condition that follows", example: "\\{x \\in \\mathbb{R} : x > 0\\}" },

    // RELATIONS (15 cards)
    { category: "relations", symbol: "=", name: "Equals", meaning: "Identical in value", example: "2 + 2 = 4" },
    { category: "relations", symbol: "\\neq", name: "Not equal", meaning: "Different values", example: "3 \\neq 5" },
    { category: "relations", symbol: "\\sim", name: "Equivalent to", meaning: "Related by equivalence relation", example: "a \\sim b \\text{ means } a \\text{ equivalent to } b" },
    { category: "relations", symbol: "\\equiv", name: "Congruent / Identical", meaning: "Congruent modulo n, or identically equal", example: "7 \\equiv 1 \\pmod{3}" },
    { category: "relations", symbol: "[a]", name: "Equivalence class", meaning: "Set of all elements equivalent to a", example: "[0] = \\{\\ldots,-3,0,3,6,\\ldots\\} \\text{ in } \\mathbb{Z}_3" },
    { category: "relations", symbol: "S/\\!\\sim", name: "Quotient set", meaning: "Set of all equivalence classes", example: "\\mathbb{Z}/\\!\\equiv_3 = \\{[0],[1],[2]\\}" },
    { category: "relations", symbol: "\\leq", name: "Less than or equal", meaning: "Partial or total order", example: "3 \\leq 5" },
    { category: "relations", symbol: "\\geq", name: "Greater than or equal", meaning: "At least as large", example: "5 \\geq 3" },
    { category: "relations", symbol: "<", name: "Less than", meaning: "Strictly smaller", example: "2 < 4" },
    { category: "relations", symbol: ">", name: "Greater than", meaning: "Strictly larger", example: "4 > 2" },
    { category: "relations", symbol: "\\cong", name: "Isomorphic", meaning: "Same structure (bijection preserving operations)", example: "(\\mathbb{Z}_2, +) \\cong (\\{0,1\\}, \\oplus)" },
    { category: "relations", symbol: "\\approx", name: "Approximately equal", meaning: "Close in value", example: "\\pi \\approx 3.14159" },
    { category: "relations", symbol: "\\propto", name: "Proportional to", meaning: "Constant ratio", example: "y \\propto x \\text{ means } y = kx" },
    { category: "relations", symbol: "a \\mid b", name: "Divides", meaning: "a divides b evenly (no remainder)", example: "3 \\mid 12 \\text{ (12 = 3√ó4)}" },
    { category: "relations", symbol: "a \\nmid b", name: "Does not divide", meaning: "a does not divide b evenly", example: "3 \\nmid 10" },

    // FUNCTIONS (11 cards)
    { category: "functions", symbol: "f: A \\to B", name: "Function mapping", meaning: "f is a function from set A to set B", example: "f: \\mathbb{R} \\to \\mathbb{R}" },
    { category: "functions", symbol: "f(x)", name: "Function value", meaning: "Output of f when input is x", example: "f(2) = 4 \\text{ if } f(x) = x^2" },
    { category: "functions", symbol: "x \\mapsto f(x)", name: "Maps to", meaning: "x is sent to f(x)", example: "x \\mapsto x^2" },
    { category: "functions", symbol: "f^{-1}", name: "Inverse function", meaning: "Function that \"undoes\" f", example: "\\text{If } f(x) = 2x, \\text{ then } f^{-1}(x) = x/2" },
    { category: "functions", symbol: "f \\circ g", name: "Composition", meaning: "(f ‚àò g)(x) = f(g(x))", example: "(f \\circ g)(x) \\text{ means apply } g \\text{ first, then } f" },
    { category: "functions", symbol: "\\text{dom}(f)", name: "Domain", meaning: "Set of valid inputs", example: "\\text{dom}(\\sqrt{x}) = [0, \\infty)" },
    { category: "functions", symbol: "\\text{range}(f)", name: "Range / Image", meaning: "Set of actual outputs", example: "\\text{range}(x^2) = [0, \\infty)" },
    { category: "functions", symbol: "f^{-1}(B)", name: "Preimage", meaning: "Set of inputs that map into B", example: "f^{-1}(\\{4\\}) = \\{-2, 2\\} \\text{ for } f(x)=x^2" },
    { category: "functions", symbol: "\\text{1-1}", name: "One-to-one (Injective)", meaning: "f(a) = f(b) ‚áí a = b", example: "f(x) = 2x \\text{ is injective}" },
    { category: "functions", symbol: "\\text{onto}", name: "Onto (Surjective)", meaning: "Every element in codomain is hit", example: "f(x) = x^3 \\text{ on } \\mathbb{R} \\text{ is onto}" },
    { category: "functions", symbol: "\\text{bijective}", name: "Bijection", meaning: "Both injective and surjective", example: "f(x) = x^3 \\text{ on } \\mathbb{R} \\text{ is bijective}" },

    // NUMBERS (9 cards)
    { category: "numbers", symbol: "\\mathbb{N}", name: "Natural numbers", meaning: "Counting numbers (positive integers)", example: "\\{1, 2, 3, 4, \\ldots\\} \\text{ or } \\{0,1,2,\\ldots\\}" },
    { category: "numbers", symbol: "\\mathbb{Z}", name: "Integers", meaning: "Whole numbers (positive, negative, zero)", example: "\\{\\ldots, -2, -1, 0, 1, 2, \\ldots\\}" },
    { category: "numbers", symbol: "\\mathbb{Z}^+", name: "Positive integers", meaning: "Integers greater than zero", example: "\\{1, 2, 3, \\ldots\\}" },
    { category: "numbers", symbol: "\\mathbb{Z}_n", name: "Integers mod n", meaning: "Equivalence classes of integers modulo n", example: "\\mathbb{Z}_3 = \\{0, 1, 2\\}" },
    { category: "numbers", symbol: "\\mathbb{Q}", name: "Rational numbers", meaning: "Fractions p/q where p, q ‚àà ‚Ñ§, q ‚â† 0", example: "\\frac{1}{2}, -\\frac{3}{4}, 5" },
    { category: "numbers", symbol: "\\mathbb{R}", name: "Real numbers", meaning: "All points on the number line", example: "\\pi, \\sqrt{2}, -3.5, 0" },
    { category: "numbers", symbol: "\\mathbb{R}^+", name: "Positive reals", meaning: "Real numbers greater than zero", example: "(0, \\infty)" },
    { category: "numbers", symbol: "\\mathbb{C}", name: "Complex numbers", meaning: "Numbers a + bi where i¬≤ = -1", example: "3 + 2i, -i, 5" },
    { category: "numbers", symbol: "\\mathbb{R}^n", name: "n-dimensional space", meaning: "n-tuples of real numbers", example: "\\mathbb{R}^2 = \\text{plane}, \\mathbb{R}^3 = \\text{3D space}" },

    // OPERATIONS (12 cards)
    { category: "operations", symbol: "\\sum", name: "Summation", meaning: "Sum over a range", example: "\\sum_{i=1}^{n} i = 1 + 2 + \\cdots + n" },
    { category: "operations", symbol: "\\prod", name: "Product", meaning: "Product over a range", example: "\\prod_{i=1}^{n} i = n!" },
    { category: "operations", symbol: "n!", name: "Factorial", meaning: "n ¬∑ (n-1) ¬∑ ... ¬∑ 2 ¬∑ 1", example: "5! = 120" },
    { category: "operations", symbol: "\\binom{n}{k}", name: "Binomial coefficient", meaning: "\"n choose k\" = n! / (k!(n-k)!)", example: "\\binom{5}{2} = 10" },
    { category: "operations", symbol: "|x|", name: "Absolute value", meaning: "Distance from zero", example: "|-3| = 3" },
    { category: "operations", symbol: "\\lfloor x \\rfloor", name: "Floor", meaning: "Greatest integer ‚â§ x", example: "\\lfloor 3.7 \\rfloor = 3" },
    { category: "operations", symbol: "\\lceil x \\rceil", name: "Ceiling", meaning: "Least integer ‚â• x", example: "\\lceil 3.2 \\rceil = 4" },
    { category: "operations", symbol: "\\gcd(a,b)", name: "GCD", meaning: "Greatest common divisor", example: "\\gcd(12, 18) = 6" },
    { category: "operations", symbol: "\\text{lcm}(a,b)", name: "LCM", meaning: "Least common multiple", example: "\\text{lcm}(4, 6) = 12" },
    { category: "operations", symbol: "\\infty", name: "Infinity", meaning: "Unbounded quantity", example: "\\lim_{x \\to \\infty} 1/x = 0" },
    { category: "operations", symbol: "\\lim", name: "Limit", meaning: "Value approached", example: "\\lim_{x \\to 2} x^2 = 4" },
    { category: "operations", symbol: "\\min, \\max", name: "Minimum, Maximum", meaning: "Smallest/largest value", example: "\\min(3, 5) = 3" },

    // PROOFS (9 cards)
    { category: "proofs", symbol: "\\square", name: "End of proof (QED)", meaning: "Proof is complete", example: "\\text{Write at end of proof}" },
    { category: "proofs", symbol: "\\bot", name: "Contradiction", meaning: "Logical contradiction reached", example: "\\text{Used in proof by contradiction}" },
    { category: "proofs", symbol: "\\text{WTS}", name: "Want to show", meaning: "Statement we need to prove", example: "\\text{WTS: } n^2 \\text{ is even}" },
    { category: "proofs", symbol: "\\text{WLOG}", name: "Without loss of generality", meaning: "Assume special case that covers all cases", example: "\\text{WLOG, assume } a \\leq b" },
    { category: "proofs", symbol: "\\text{IH}", name: "Inductive hypothesis", meaning: "Assumption in induction proof", example: "\\text{By IH, } P(k) \\text{ is true}" },
    { category: "proofs", symbol: ":=", name: "Defined as", meaning: "Left side is defined to equal right", example: "f(x) := x^2 + 1" },
    { category: "proofs", symbol: "\\text{iff}", name: "If and only if", meaning: "Same as ‚áî", example: "A = B \\text{ iff } A \\subseteq B \\text{ and } B \\subseteq A" },
    { category: "proofs", symbol: "\\text{s.t.}", name: "Such that", meaning: "Condition follows", example: "\\exists x \\text{ s.t. } x^2 = 2" },
    { category: "proofs", symbol: "\\text{w.r.t.}", name: "With respect to", meaning: "In relation to", example: "\\text{Continuous w.r.t. } x" },

    // GREEK (10 cards)
    { category: "greek", symbol: "\\alpha, \\beta, \\gamma", name: "alpha, beta, gamma", meaning: "Angles, coefficients, parameters", example: "\\text{Triangle angles}" },
    { category: "greek", symbol: "\\delta, \\Delta", name: "delta", meaning: "Small change, difference", example: "\\delta \\text{ in } \\varepsilon\\text{-}\\delta \\text{ proofs}" },
    { category: "greek", symbol: "\\varepsilon", name: "epsilon", meaning: "Small positive number", example: "\\varepsilon > 0 \\text{ in limits}" },
    { category: "greek", symbol: "\\theta, \\Theta", name: "theta", meaning: "Angles in trigonometry", example: "\\sin\\theta" },
    { category: "greek", symbol: "\\lambda", name: "lambda", meaning: "Eigenvalue, parameter", example: "Av = \\lambda v" },
    { category: "greek", symbol: "\\mu", name: "mu", meaning: "Mean, measure", example: "\\text{Population mean } \\mu" },
    { category: "greek", symbol: "\\pi", name: "pi", meaning: "Ratio of circumference to diameter", example: "\\pi \\approx 3.14159" },
    { category: "greek", symbol: "\\sigma, \\Sigma", name: "sigma", meaning: "Sum (Œ£), standard deviation (œÉ)", example: "\\Sigma_{i=1}^n x_i" },
    { category: "greek", symbol: "\\phi, \\varphi", name: "phi", meaning: "Golden ratio, function", example: "\\text{Euler's } \\varphi \\text{ function}" },
    { category: "greek", symbol: "\\omega, \\Omega", name: "omega", meaning: "Angular frequency, sample space", example: "\\text{Big-}\\Omega \\text{ notation}" }
];

let currentIndex = 0;
let filteredCards = [...flashcards];
let viewedCards = new Set();
let isFlipped = false;

// DOM elements
const flashcard = document.getElementById('flashcard');
const symbolDisplay = document.getElementById('symbolDisplay');
const symbolDisplayBack = document.getElementById('symbolDisplayBack');
const symbolName = document.getElementById('symbolName');
const meaningDisplay = document.getElementById('meaningDisplay');
const exampleDisplay = document.getElementById('exampleDisplay');
const categoryTag = document.getElementById('categoryTag');
const progressFill = document.getElementById('progressFill');
const progressText = document.getElementById('progressText');
const viewedCount = document.getElementById('viewedCount');
const totalCount = document.getElementById('totalCount');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');

function init() {
    updateCard();
    updateStats();
    setupSwipe();
    setupKeyboard();

    // Category filter buttons
    document.querySelectorAll('.category-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            filterByCategory(btn.dataset.category);
        });
    });
}

function filterByCategory(category) {
    if (category === 'all') {
        filteredCards = [...flashcards];
    } else {
        filteredCards = flashcards.filter(card => card.category === category);
    }
    currentIndex = 0;
    isFlipped = false;
    flashcard.classList.remove('flipped');
    updateCard();
    updateStats();
}

function updateCard() {
    if (filteredCards.length === 0) return;

    const card = filteredCards[currentIndex];

    // Update front
    symbolDisplay.innerHTML = `\\(${card.symbol}\\)`;
    symbolName.textContent = card.name;

    // Update back
    symbolDisplayBack.innerHTML = `\\(${card.symbol}\\)`;
    meaningDisplay.textContent = card.meaning;
    exampleDisplay.innerHTML = `\\(${card.example}\\)`;

    // Update category tag
    categoryTag.textContent = card.category.toUpperCase();

    // Track viewed
    viewedCards.add(flashcards.indexOf(card));

    // Update progress
    const progress = ((currentIndex + 1) / filteredCards.length) * 100;
    progressFill.style.width = `${progress}%`;
    progressText.textContent = `Card ${currentIndex + 1} of ${filteredCards.length}`;

    // Update nav buttons
    prevBtn.disabled = currentIndex === 0;
    nextBtn.disabled = currentIndex === filteredCards.length - 1;

    // Re-render MathJax
    if (window.MathJax) {
        MathJax.typesetPromise([flashcard]).catch(err => console.log('MathJax error:', err));
    }

    updateStats();
}

function updateStats() {
    viewedCount.textContent = viewedCards.size;
    totalCount.textContent = flashcards.length;
}

function flipCard() {
    isFlipped = !isFlipped;
    flashcard.classList.toggle('flipped', isFlipped);
}

function nextCard() {
    if (currentIndex < filteredCards.length - 1) {
        currentIndex++;
        isFlipped = false;
        flashcard.classList.remove('flipped');
        updateCard();
    }
}

function prevCard() {
    if (currentIndex > 0) {
        currentIndex--;
        isFlipped = false;
        flashcard.classList.remove('flipped');
        updateCard();
    }
}

function shuffleCards() {
    filteredCards = filteredCards.sort(() => Math.random() - 0.5);
    currentIndex = 0;
    isFlipped = false;
    flashcard.classList.remove('flipped');
    updateCard();
}

// Swipe support
function setupSwipe() {
    let startX = 0;
    let startY = 0;

    flashcard.addEventListener('touchstart', (e) => {
        startX = e.touches[0].clientX;
        startY = e.touches[0].clientY;
    }, { passive: true });

    flashcard.addEventListener('touchend', (e) => {
        const endX = e.changedTouches[0].clientX;
        const endY = e.changedTouches[0].clientY;
        const diffX = endX - startX;
        const diffY = endY - startY;

        // Only handle horizontal swipes
        if (Math.abs(diffX) > Math.abs(diffY) && Math.abs(diffX) > 50) {
            if (diffX > 0) {
                prevCard();
            } else {
                nextCard();
            }
        }
    }, { passive: true });
}

// Keyboard support
function setupKeyboard() {
    document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowLeft') prevCard();
        if (e.key === 'ArrowRight') nextCard();
        if (e.key === ' ' || e.key === 'Enter') {
            e.preventDefault();
            flipCard();
        }
    });
}

// Initialize when DOM is ready
document.addEventListener('DOMContentLoaded', init);

// Register service worker for PWA
if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('symbols-sw.js').catch(err => console.log('SW error:', err));
}
</script>

</body>
</html>
